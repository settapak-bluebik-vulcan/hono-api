# A.E.G.I.S.

Automated Engine for Generative Interaction Systems - AI Chat Backend

## Tech Stack

- **Runtime:** Bun
- **Framework:** Hono
- **Language:** TypeScript
- **Database:** MongoDB
- **Architecture:** Clean Architecture (Controller → Service → Repository → Database)

## Run with Docker (Recommended)

```sh
docker compose up
```

App + MongoDB will start together. Open http://localhost:3000

### Docker Commands

```sh
# Run in background
docker compose up -d

# View logs
docker compose logs -f app

# Stop all
docker compose down

# Stop + delete DB data
docker compose down -v

# Rebuild after code changes
docker compose up --build
```

## Run without Docker

Requires [Bun](https://bun.sh) and MongoDB running at `localhost:27017`

```sh
bun install
bun run dev
```

Open http://localhost:3000

## API Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| GET | /v1/conversations | Paginated list (supports `offset` & `limit`) |
| POST | /v1/conversations | Create new conversation |
| POST | /v1/conversations/:id/messages | Send message & get AI reply |
| PATCH | /v1/conversations/:id | Rename conversation |

## Project Structure

```
src/
├── index.ts                  # Entry point + error handler
├── config/database.ts        # MongoDB connection
├── routes/                   # Route definitions
├── controllers/              # Request validation + response
├── services/                 # Business logic + Mock AI
├── repositories/             # Database operations
├── dtos/                     # Request body types
├── types/                    # Data model types
├── errors/                   # Custom error classes
├── utils/                    # Helper functions
└── views/                    # HTML UI
```

## Credits

- **Backend:** Settapak Thongyou
- **UI:** Generated by AI (Claude)
